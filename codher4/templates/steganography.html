
{% extends "base.html" %}
{% block content %}
<h2>Steganography Tool (Upload Image + Hide/Reveal Message)</h2>

<h3>1. Hide Secret Message</h3>
<form method="POST" enctype="multipart/form-data">
    <input type="file" name="image" required><br><br>
    <input type="text" name="message" placeholder="Enter secret message" required><br><br>
    <button type="submit" name="hide">Hide Message</button>
</form>

<br><hr><br>

<h3>2. Reveal Hidden Message</h3>
<form method="POST" enctype="multipart/form-data">
    <input type="file" name="reveal_image" required><br><br>
    <button type="submit" name="reveal">Reveal Message</button>
</form>

<br><hr><br>

{% if result %}
<p><strong>Result:</strong> {{ result }}</p>
{% endif %}

{% if image_url %}
<p><strong>Encoded Image:</strong></p>
<img src="{{ url_for('static', filename=image_url.split('static/')[-1]) }}" alt="Encoded Image" width="300"><br><br>
<a href="{{ url_for('static', filename=image_url.split('static/')[-1]) }}" download>
    <button>Download Encoded Image</button>
</a>
{% endif %}
{% endblock %}